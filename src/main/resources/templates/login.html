<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/main.css"/>
    <script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" crossorigin="anonymous"></script>
    <title>Login | Kantin Kejujuran</title>
</head>
<body class="flex items-center justify-center min-h-screen bg-gradient-to-bl from-indigo-800 via-indigo-400 to-indigo-900">
    <nav class="fixed bg-indigo-800 bg-opacity-40 top-0 w-full shadow">
        <div class="container m-auto flex justify-between items-center text-gray-700">
            <div class="w-48 flex justify-start mx-4">
                <a href="/" class="py-3 text-xl text-white text-center font-bold">Kantin Kejujuran</a>
            </div>
    </nav>
    <div class="container max-w-xl min-w-min px-8 mt-8">
        <div class="max-w-lg mx-auto">
            <h1 class="text-4xl font-bold text-white text-center">Kantin Kejujuran</h1>
        </div>
        <div class="bg-white max-w-lg mx-auto p-10 my-10 rounded-lg shadow-2xl">
            <h3 class="text-2xl font-bold text-center mb-4">Login to your account</h3>
            <form class="flex flex-col" th:action="@{/login}" method="POST">
                <input type="text" placeholder="Enter ID" name="username" required class="w-full mb-4 px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-slate-50">
                <input type="password" placeholder="Enter Password" name="password" required class="w-full mb-4 px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-slate-50">
                <button class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 rounded shadow-lg hover:shadow-xl transition duration-200" type="submit">Login</button>
            </form>
        </div>
        <div class="max-w-lg mx-auto text-center">
            <p class="text-white">Don't have an account? <a href="/registration" class="font-bold hover:underline">Register now</a></p>
        </div>
    </div>

    <div th:if="${param.error} or ${param.logout}" id="modal-feedback" class="bg-black bg-opacity-40 fixed inset-0 flex justify-center items-center">
        <div class="bg-white sm:w-2/3 md:w-1/3 w-5/6 p-4 rounded-lg shadow-xl">
            <div class="flex justify-end items-center">
                <svg id="close-modal" class="h-6 w-6 cursor-pointer p-1 hover:bg-gray-300 rounded-full" fill="currentColor" viewBox="0 0 20 20"> <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <div class="text-center p-4">
                <svg th:if="${param.error}" class="mx-auto mb-4 w-20 h-16 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <svg th:if="${param.logout}" class="mx-auto mb-4 w-20 h-16 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M10.219,1.688c-4.471,0-8.094,3.623-8.094,8.094s3.623,8.094,8.094,8.094s8.094-3.623,8.094-8.094S14.689,1.688,10.219,1.688 M10.219,17.022c-3.994,0-7.242-3.247-7.242-7.241c0-3.994,3.248-7.242,7.242-7.242c3.994,0,7.241,3.248,7.241,7.242C17.46,13.775,14.213,17.022,10.219,17.022 M15.099,7.03c-0.167-0.167-0.438-0.167-0.604,0.002L9.062,12.48l-2.269-2.277c-0.166-0.167-0.437-0.167-0.603,0c-0.166,0.166-0.168,0.437-0.002,0.603l2.573,2.578c0.079,0.08,0.188,0.125,0.3,0.125s0.222-0.045,0.303-0.125l5.736-5.751C15.268,7.466,15.265,7.196,15.099,7.03"></path></svg>
                <h3 class="mb-5 text-lg font-normal text-gray-500" th:if="${param.error}">Invalid ID or password</h3>
                <h3 class="mb-5 text-lg font-normal text-gray-500" th:if="${param.logout}">You've been logged out</h3>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function(){
            $("#close-modal").click(function(){
                $("#modal-feedback").hide();
            });
        });
    </script>
</body>
</html>